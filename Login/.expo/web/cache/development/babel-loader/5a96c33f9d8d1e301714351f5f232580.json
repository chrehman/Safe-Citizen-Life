{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n\nvar _this = this,\n    _jsxFileName = \"F:\\\\React Native\\\\MapExpo\\\\frontend\\\\screens\\\\SignUpScreen.js\";\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nimport React from 'react';\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport Button from \"react-native-web/dist/exports/Button\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport TextInput from \"react-native-web/dist/exports/TextInput\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport StatusBar from \"react-native-web/dist/exports/StatusBar\";\nimport * as Animatable from 'react-native-animatable';\nimport firebase from 'firebase/app';\nimport \"firebase/storage\";\nimport \"firebase/auth\";\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport FontAwesome from \"@expo/vector-icons/FontAwesome\";\nimport Feather from \"@expo/vector-icons/Feather\";\n\nvar SignInScreen = function SignInScreen(_ref) {\n  var navigation = _ref.navigation;\n\n  var _React$useState = React.useState({\n    username: '',\n    password: '',\n    confirm_password: '',\n    check_textInputChange: false,\n    secureTextEntry: true,\n    confirm_secureTextEntry: true,\n    isValidUser: true,\n    isValidPassword: true,\n    isValidConfirmPassword: true\n  }),\n      _React$useState2 = _slicedToArray(_React$useState, 2),\n      data = _React$useState2[0],\n      setData = _React$useState2[1];\n\n  var validate = function validate(text) {\n    var reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w\\w+)+$/;\n\n    if (reg.test(text) === false) {\n      return false;\n    } else {\n      return true;\n    }\n  };\n\n  var textInputChange = function textInputChange(val) {\n    if (validate(val)) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        username: val,\n        check_textInputChange: true,\n        isValidUser: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        username: val,\n        check_textInputChange: false,\n        isValidUser: false\n      }));\n    }\n  };\n\n  var handlePasswordChange = function handlePasswordChange(val) {\n    if (val.trim().length >= 6) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        password: val,\n        isValidPassword: false\n      }));\n    }\n  };\n\n  var handleConfirmPasswordChange = function handleConfirmPasswordChange(val) {\n    if (val === data.password) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        confirm_password: val,\n        isValidConfirmPassword: true\n      }));\n    } else {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        confirm_password: val,\n        isValidConfirmPassword: false\n      }));\n    }\n  };\n\n  var updateSecureTextEntry = function updateSecureTextEntry() {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      secureTextEntry: !data.secureTextEntry\n    }));\n  };\n\n  var updateConfirmSecureTextEntry = function updateConfirmSecureTextEntry() {\n    setData(_objectSpread(_objectSpread({}, data), {}, {\n      confirm_secureTextEntry: !data.confirm_secureTextEntry\n    }));\n  };\n\n  var signUp = function signUp() {\n    console.log(\"HEllo\");\n\n    if (data.username.length == 0) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidUser: false\n      }));\n      return;\n    }\n\n    if (data.password.length == 0 || data.password.length < 6) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidPassword: false\n      }));\n      return;\n    }\n\n    if (data.confirm_password.length == 0 || data.confirm_password !== data.password) {\n      setData(_objectSpread(_objectSpread({}, data), {}, {\n        isValidConfirmPassword: false\n      }));\n      return;\n    }\n\n    if (data.isValidUser && data.isValidPassword && data.isValidConfirmPassword) {\n      firebase.auth().createUserWithEmailAndPassword(data.username, data.password).then(function () {\n        var user = firebase.auth().currentUser;\n        user.sendEmailVerification().then(function () {\n          console.log(\"Email Sent\");\n        }).catch(function (error) {});\n        console.log(\"USerID \", user.uid);\n        firebase.firestore().collection('apply').doc(user.uid).set({\n          fname: \"Abdul\",\n          lname: \"Rahman\",\n          email: data.username,\n          phoneNumber: \"123456789\",\n          city: \"RWP\",\n          country: \"Pakistan\",\n          bloodGroup: \"A+\",\n          cnic: \"374051234567\",\n          createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n          userImg: null\n        }).then(function () {\n          console.log(\"Document successfully written!\");\n          firebase.auth().signOut().then(function () {\n            console.log('User signed out!');\n          });\n          console.log('User account created & signed in!');\n          setData(_objectSpread(_objectSpread({}, data), {}, {\n            username: '',\n            password: '',\n            confirm_password: ' '\n          }));\n          Alert.alert(\"Registration\", \"Registered Successfully\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              console.log(\"OK Pressed\");\n            }\n          }]);\n        }).catch(function (error) {\n          console.error(\"Error writing document: \", error);\n        });\n      }).catch(function (error) {\n        if (error.code === 'auth/email-already-in-use') {\n          console.log('That email address is already in use!');\n          Alert.alert(\"Error\", \"Email Address is already in use\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n\n        if (error.code === 'auth/invalid-email') {\n          Alert.alert(\"Error\", \"Invalid Email Address\", [{\n            text: \"OK\",\n            onPress: function onPress() {\n              console.log(\"OK Pressed\");\n            }\n          }]);\n        }\n\n        console.log(error);\n      });\n    }\n  };\n\n  return React.createElement(View, {\n    style: styles.container,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 340,\n      columnNumber: 9\n    }\n  }, React.createElement(StatusBar, {\n    backgroundColor: \"#009387\",\n    barStyle: \"light-content\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 341,\n      columnNumber: 13\n    }\n  }), React.createElement(View, {\n    style: styles.header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 13\n    }\n  }, React.createElement(Text, {\n    style: styles.text_header,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 343,\n      columnNumber: 17\n    }\n  }, \"Register Now!\")), React.createElement(Animatable.View, {\n    animation: \"fadeInUpBig\",\n    style: styles.footer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 345,\n      columnNumber: 13\n    }\n  }, React.createElement(ScrollView, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 349,\n      columnNumber: 17\n    }\n  }, React.createElement(Text, {\n    style: styles.text_footer,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 350,\n      columnNumber: 21\n    }\n  }, \"Email\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 351,\n      columnNumber: 21\n    }\n  }, React.createElement(MaterialCommunityIcons, {\n    name: \"email-outline\",\n    size: 20,\n    color: \"#05375a\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 357,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Your Email Address\",\n    style: styles.textInput,\n    value: data.username,\n    keyboardType: \"email-address\",\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(val) {\n      return textInputChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 358,\n      columnNumber: 25\n    }\n  }), data.check_textInputChange ? React.createElement(Animatable.View, {\n    animation: \"bounceIn\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 367,\n      columnNumber: 29\n    }\n  }, React.createElement(Feather, {\n    name: \"check-circle\",\n    color: \"green\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 370,\n      columnNumber: 33\n    }\n  })) : null), data.isValidUser ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 380,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 381,\n      columnNumber: 29\n    }\n  }, \"Email is not valid.\")), React.createElement(Text, {\n    style: [styles.text_footer, {\n      marginTop: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 385,\n      columnNumber: 21\n    }\n  }, \"Password\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 388,\n      columnNumber: 21\n    }\n  }, React.createElement(Feather, {\n    name: \"lock\",\n    color: \"#05375a\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 389,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Your Password\",\n    secureTextEntry: data.secureTextEntry ? true : false,\n    style: styles.textInput,\n    value: data.password,\n    autoCapitalize: \"none\",\n    onChangeText: function onChangeText(val) {\n      return handlePasswordChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 394,\n      columnNumber: 25\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: updateSecureTextEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 402,\n      columnNumber: 25\n    }\n  }, data.secureTextEntry ? React.createElement(Feather, {\n    name: \"eye-off\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 406,\n      columnNumber: 33\n    }\n  }) : React.createElement(Feather, {\n    name: \"eye\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 412,\n      columnNumber: 33\n    }\n  }))), data.isValidPassword ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 422,\n      columnNumber: 29\n    }\n  }, \"Password must be 6 characters long.\")), React.createElement(Text, {\n    style: [styles.text_footer, {\n      marginTop: 35\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 426,\n      columnNumber: 21\n    }\n  }, \"Confirm Password\"), React.createElement(View, {\n    style: styles.action,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 429,\n      columnNumber: 21\n    }\n  }, React.createElement(Feather, {\n    name: \"lock\",\n    color: \"#05375a\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 430,\n      columnNumber: 25\n    }\n  }), React.createElement(TextInput, {\n    placeholder: \"Confirm Your Password\",\n    secureTextEntry: data.confirm_secureTextEntry ? true : false,\n    style: styles.textInput,\n    autoCapitalize: \"none\",\n    value: data.confirm_password,\n    onChangeText: function onChangeText(val) {\n      return handleConfirmPasswordChange(val);\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 435,\n      columnNumber: 25\n    }\n  }), React.createElement(TouchableOpacity, {\n    onPress: updateConfirmSecureTextEntry,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 443,\n      columnNumber: 25\n    }\n  }, data.confirm_secureTextEntry ? React.createElement(Feather, {\n    name: \"eye-off\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 447,\n      columnNumber: 33\n    }\n  }) : React.createElement(Feather, {\n    name: \"eye\",\n    color: \"grey\",\n    size: 20,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 453,\n      columnNumber: 33\n    }\n  }))), data.isValidConfirmPassword ? null : React.createElement(Animatable.View, {\n    animation: \"fadeInLeft\",\n    duration: 500,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 462,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: styles.errorMsg,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 463,\n      columnNumber: 29\n    }\n  }, \"Password did not match.\")), React.createElement(View, {\n    style: styles.textPrivate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 466,\n      columnNumber: 21\n    }\n  }, React.createElement(Text, {\n    style: styles.color_textPrivate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 467,\n      columnNumber: 25\n    }\n  }, \"By signing up you agree to our\"), React.createElement(Text, {\n    style: [styles.color_textPrivate, {\n      fontWeight: 'bold'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 470,\n      columnNumber: 25\n    }\n  }, \" \", \"Terms of service\"), React.createElement(Text, {\n    style: styles.color_textPrivate,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 471,\n      columnNumber: 25\n    }\n  }, \" \", \"and\"), React.createElement(Text, {\n    style: [styles.color_textPrivate, {\n      fontWeight: 'bold'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 472,\n      columnNumber: 25\n    }\n  }, \" \", \"Privacy policy\")), React.createElement(View, {\n    style: styles.button,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 474,\n      columnNumber: 21\n    }\n  }, React.createElement(TouchableOpacity, {\n    style: styles.signIn,\n    onPress: function onPress() {\n      signUp();\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 475,\n      columnNumber: 25\n    }\n  }, React.createElement(LinearGradient, {\n    colors: ['#08d4c4', '#01ab9d'],\n    style: styles.signIn,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 479,\n      columnNumber: 29\n    }\n  }, React.createElement(Text, {\n    style: [styles.textSign, {\n      color: '#fff'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 483,\n      columnNumber: 33\n    }\n  }, \"Sign Up\"))), React.createElement(TouchableOpacity, {\n    onPress: function onPress() {\n      return navigation.goBack();\n    },\n    style: [styles.signIn, {\n      borderColor: '#009387',\n      borderWidth: 1,\n      marginTop: 15\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 489,\n      columnNumber: 25\n    }\n  }, React.createElement(Text, {\n    style: [styles.textSign, {\n      color: '#009387'\n    }],\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 29\n    }\n  }, \"Sign In\"))))));\n};\n\nexport default SignInScreen;\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#009387'\n  },\n  header: {\n    flex: 1,\n    justifyContent: 'flex-end',\n    paddingHorizontal: 20,\n    paddingBottom: 50\n  },\n  footer: {\n    flex: Platform.OS === 'ios' ? 3 : 5,\n    backgroundColor: '#fff',\n    borderTopLeftRadius: 30,\n    borderTopRightRadius: 30,\n    paddingHorizontal: 20,\n    paddingVertical: 30\n  },\n  text_header: {\n    color: '#fff',\n    fontWeight: 'bold',\n    fontSize: 30\n  },\n  text_footer: {\n    color: '#05375a',\n    fontSize: 18\n  },\n  action: {\n    flexDirection: 'row',\n    marginTop: 10,\n    borderBottomWidth: 1,\n    borderBottomColor: '#f2f2f2',\n    paddingBottom: 5\n  },\n  textInput: {\n    flex: 1,\n    marginTop: Platform.OS === 'ios' ? 0 : -12,\n    paddingLeft: 10,\n    color: '#05375a'\n  },\n  button: {\n    alignItems: 'center',\n    marginTop: 50\n  },\n  signIn: {\n    width: '100%',\n    height: 50,\n    justifyContent: 'center',\n    alignItems: 'center',\n    borderRadius: 10\n  },\n  errorMsg: {\n    color: '#FF0000',\n    fontSize: 14\n  },\n  textSign: {\n    fontSize: 18,\n    fontWeight: 'bold'\n  },\n  textPrivate: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 20\n  },\n  color_textPrivate: {\n    color: 'grey'\n  }\n});","map":{"version":3,"sources":["F:/React Native/MapExpo/frontend/screens/SignUpScreen.js"],"names":["React","Animatable","firebase","MaterialCommunityIcons","LinearGradient","FontAwesome","Feather","SignInScreen","navigation","useState","username","password","confirm_password","check_textInputChange","secureTextEntry","confirm_secureTextEntry","isValidUser","isValidPassword","isValidConfirmPassword","data","setData","validate","text","reg","test","textInputChange","val","handlePasswordChange","trim","length","handleConfirmPasswordChange","updateSecureTextEntry","updateConfirmSecureTextEntry","signUp","console","log","auth","createUserWithEmailAndPassword","then","user","currentUser","sendEmailVerification","catch","error","uid","firestore","collection","doc","set","fname","lname","email","phoneNumber","city","country","bloodGroup","cnic","createdAt","Timestamp","fromDate","Date","userImg","signOut","Alert","alert","onPress","code","styles","container","header","text_header","footer","text_footer","action","textInput","errorMsg","marginTop","textPrivate","color_textPrivate","fontWeight","button","signIn","textSign","color","goBack","borderColor","borderWidth","StyleSheet","create","flex","backgroundColor","justifyContent","paddingHorizontal","paddingBottom","Platform","OS","borderTopLeftRadius","borderTopRightRadius","paddingVertical","fontSize","flexDirection","borderBottomWidth","borderBottomColor","paddingLeft","alignItems","width","height","borderRadius","flexWrap"],"mappings":"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","sourcesContent":["import React from 'react';\nimport {\n    Alert,\n    View,\n    Text,\n    Button,\n    TouchableOpacity,\n    Dimensions,\n    TextInput,\n    Platform,\n    StyleSheet,\n    ScrollView,\n    StatusBar\n} from 'react-native';\nimport * as Animatable from 'react-native-animatable';\n// import auth from '@react-native-firebase/auth';\nimport firebase from 'firebase/app';\nimport \"firebase/storage\";\nimport \"firebase/auth\";\n// import LinearGradient from 'react-native-linear-gradient';\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport FontAwesome from 'react-native-vector-icons/FontAwesome';\nimport Feather from 'react-native-vector-icons/Feather';\n\nconst SignInScreen = ({ navigation }) => {\n\n    const [data, setData] = React.useState({\n        username: '',\n        password: '',\n        confirm_password: '',\n        check_textInputChange: false,\n        secureTextEntry: true,\n        confirm_secureTextEntry: true,\n        isValidUser: true,\n        isValidPassword: true,\n        isValidConfirmPassword: true,\n    });\n\n    const validate = (text) => {\n        // console.log(text);\n        let reg = /^\\w+([\\.-]?\\w+)*@\\w+([\\.-]?\\w+)*(\\.\\w\\w+)+$/;\n        if (reg.test(text) === false) {\n            // console.log(\"Email is Not Correct\");\n            return false;\n        }\n        else {\n            // console.log(\"Email is Correct\");\n            return true\n        }\n    }\n\n    const textInputChange = (val) => {\n\n        if (validate(val)) {\n            setData({\n                ...data,\n                username: val,\n                check_textInputChange: true,\n                isValidUser: true\n            });\n        } else {\n            setData({\n                ...data,\n                username: val,\n                check_textInputChange: false,\n                isValidUser: false\n            });\n        }\n    }\n\n    const handlePasswordChange = (val) => {\n        if (val.trim().length >= 6) {\n            setData({\n                ...data,\n                password: val,\n                isValidPassword: true\n            });\n        } else {\n            setData({\n                ...data,\n                password: val,\n                isValidPassword: false\n            });\n        }\n    }\n\n\n    const handleConfirmPasswordChange = (val) => {\n        if (val === data.password) {\n            setData({\n                ...data,\n                confirm_password: val,\n                isValidConfirmPassword: true\n            });\n        } else {\n            setData({\n                ...data,\n                confirm_password: val,\n                isValidConfirmPassword: false\n            });\n        }\n    }\n    const updateSecureTextEntry = () => {\n        setData({\n            ...data,\n            secureTextEntry: !data.secureTextEntry\n        });\n    }\n\n    const updateConfirmSecureTextEntry = () => {\n        setData({\n            ...data,\n            confirm_secureTextEntry: !data.confirm_secureTextEntry\n        });\n    }\n\n    const signUp = () => {\n\n        console.log(\"HEllo\")\n        if (data.username.length == 0) {\n            setData({\n                ...data,\n                isValidUser: false\n            })\n            return\n        }\n\n\n        if (data.password.length == 0 || data.password.length < 6) {\n            setData({\n                ...data,\n                isValidPassword: false\n            })\n            return\n        }\n        if (data.confirm_password.length == 0 || data.confirm_password !== data.password) {\n            setData({\n                ...data,\n                isValidConfirmPassword: false\n            })\n            return\n        }\n\n        if (data.isValidUser && data.isValidPassword && data.isValidConfirmPassword) {\n            // fetch('http://192.168.1.4:3000/users/signup', {\n            //     method: 'POST',\n            //     headers: {\n            //         Accept: 'application/json',\n            //         'Content-Type': 'application/json'\n            //     },\n            //     body: JSON.stringify({\n            //         username: data.username,\n            //         password: data.password,\n            //         fname: \"Abdul\",\n            //         lname: \"Rahman\"\n            //     })\n            // })\n            //     .then((res => {\n            //         return res.json()\n            //     }))\n            //     .then((result) => {\n            //         if (result.err) {\n            //             console.log(result.err)\n            //             Alert.alert(\n            //                 result.err.name,\n            //                 result.err.message,\n            //                 [\n            //                     {\n            //                         text: \"Cancel\",\n            //                         onPress: () => console.log(\"Cancel Pressed\"),\n            //                         style: \"cancel\"\n            //                     },\n            //                     { text: \"OK\", onPress: () => console.log(\"OK Pressed\") }\n            //                 ]\n            //             );\n\n            //             return\n            //         }\n            //         console.log(\"Result\", result)\n            //         // const res=JSON.parse(result)\n\n            //         Alert.alert(\n            //             \"Registration\",\n            //             \"Registered Successfully\",\n            //             [\n            //                 {\n            //                     text: \"OK\", onPress: () => {\n            //                         console.log(\"OK Pressed\")\n            //                         setData({\n            //                             ...data,\n            //                             username: '',\n            //                             password: '',\n            //                             confirm_password: ''\n            //                         })\n            //                         console.log(\"DATA\", data)\n            //                     }\n            //                 }\n            //             ]\n            //         );\n\n            //     })\n            //     .catch((err) => {\n            //         console.log(\"ERROR\", err)\n            //     })\n\n\n\n            firebase.auth()\n                .createUserWithEmailAndPassword(data.username, data.password)\n                .then(() => {\n                    var user = firebase.auth().currentUser;\n                    user.sendEmailVerification().then(function () {\n                        // Email sent.\n                        console.log(\"Email Sent\")\n                    }).catch(function (error) {\n                        // An error happened.\n                    });\n                    console.log(\"USerID \", user.uid)\n                    firebase.firestore().collection('apply').doc(user.uid)\n                        .set({\n                            fname: \"Abdul\",\n                            lname: \"Rahman\",\n                            email: data.username,\n                            phoneNumber: \"123456789\",\n                            city: \"RWP\",\n                            country: \"Pakistan\",\n                            bloodGroup: \"A+\",\n                            cnic: \"374051234567\",\n                            createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n                            userImg: null,\n                        })\n                        .then(() => {\n                            console.log(\"Document successfully written!\");\n\n\n                            firebase.auth()\n                                .signOut()\n                                .then(() => {\n                                    console.log('User signed out!')\n\n                                });\n                            console.log('User account created & signed in!');\n                            setData({\n                                ...data,\n                                username: '',\n                                password: '',\n                                confirm_password: ' '\n                            })\n                            Alert.alert(\n                                \"Registration\",\n                                \"Registered Successfully\",\n                                [\n                                    {\n                                        text: \"OK\", onPress: () => {\n                                            console.log(\"OK Pressed\")\n\n                                        }\n                                    }\n                                ]\n                            );\n                        })\n                        .catch((error) => {\n                            console.error(\"Error writing document: \", error);\n                        });\n                })\n                .catch(error => {\n                    if (error.code === 'auth/email-already-in-use') {\n                        console.log('That email address is already in use!');\n                        Alert.alert(\n                            \"Error\",\n                            \"Email Address is already in use\",\n                            [\n                                {\n                                    text: \"OK\", onPress: () => {\n                                        console.log(\"OK Pressed\")\n\n                                    }\n                                }\n                            ]\n                        );\n                    }\n                    if (error.code === 'auth/invalid-email') {\n                        Alert.alert(\n                            \"Error\",\n                            \"Invalid Email Address\",\n                            [\n                                {\n                                    text: \"OK\", onPress: () => {\n                                        console.log(\"OK Pressed\")\n\n                                    }\n                                }\n                            ]\n                        );\n                    }\n                    console.log(error)\n                });\n\n            // firebase.firestore().collection('apply')\n            //     .add({\n            //         fname: \"Abdul\",\n            //         lname: \"Rahman\",\n            //         phoneNumber: \"123456789\",\n            //         city: \"RWP\",\n            //         country: \"Pakistan\",\n            //         bloodGroup: \"A+\",\n            //         cnic: \"374051234567\",\n            //         createdAt: firebase.firestore.Timestamp.fromDate(new Date()),\n            //         userImg: null,\n            //     })\n            //     .then(() => {\n            //         console.log(\"Document successfully written!\");\n            //         setData({\n            //             ...data,\n            //             username: '',\n            //             password: '',\n            //             confirm_password: ''\n            //         })\n            //         Alert.alert(\n            //             \"Registration\",\n            //             \"Account for registeration applied successfully\",\n            //             [\n            //                 {\n            //                     text: \"OK\", onPress: () => {\n            //                         console.log(\"OK Pressed\")\n\n            //                     }\n            //                 }\n            //             ]\n            //         );\n            //     })\n            //     .catch((error) => {\n            //         console.error(\"Error writing document: \", error);\n            //     });\n        }\n    }\n\n    return (\n        <View style={styles.container}>\n            <StatusBar backgroundColor='#009387' barStyle=\"light-content\" />\n            <View style={styles.header}>\n                <Text style={styles.text_header}>Register Now!</Text>\n            </View>\n            <Animatable.View\n                animation=\"fadeInUpBig\"\n                style={styles.footer}\n            >\n                <ScrollView>\n                    <Text style={styles.text_footer}>Email</Text>\n                    <View style={styles.action}>\n                        {/* <FontAwesome\n                            name=\"user-o\"\n                            color=\"#05375a\"\n                            size={20}\n                        /> */}\n                        <MaterialCommunityIcons name=\"email-outline\" size={20} color=\"#05375a\" />\n                        <TextInput\n                            placeholder=\"Your Email Address\"\n                            style={styles.textInput}\n                            value={data.username}\n                            keyboardType=\"email-address\"\n                            autoCapitalize=\"none\"\n                            onChangeText={(val) => textInputChange(val)}\n                        />\n                        {data.check_textInputChange ?\n                            <Animatable.View\n                                animation=\"bounceIn\"\n                            >\n                                <Feather\n                                    name=\"check-circle\"\n                                    color=\"green\"\n                                    size={20}\n                                />\n                            </Animatable.View>\n                            : null}\n\n                    </View>\n                    {data.isValidUser ? null :\n                        <Animatable.View animation=\"fadeInLeft\" duration={500}>\n                            <Text style={styles.errorMsg}>Email is not valid.</Text>\n                        </Animatable.View>\n                    }\n\n                    <Text style={[styles.text_footer, {\n                        marginTop: 35\n                    }]}>Password</Text>\n                    <View style={styles.action}>\n                        <Feather\n                            name=\"lock\"\n                            color=\"#05375a\"\n                            size={20}\n                        />\n                        <TextInput\n                            placeholder=\"Your Password\"\n                            secureTextEntry={data.secureTextEntry ? true : false}\n                            style={styles.textInput}\n                            value={data.password}\n                            autoCapitalize=\"none\"\n                            onChangeText={(val) => handlePasswordChange(val)}\n                        />\n                        <TouchableOpacity\n                            onPress={updateSecureTextEntry}\n                        >\n                            {data.secureTextEntry ?\n                                <Feather\n                                    name=\"eye-off\"\n                                    color=\"grey\"\n                                    size={20}\n                                />\n                                :\n                                <Feather\n                                    name=\"eye\"\n                                    color=\"grey\"\n                                    size={20}\n                                />\n                            }\n                        </TouchableOpacity>\n                    </View>\n                    {data.isValidPassword ? null :\n                        <Animatable.View animation=\"fadeInLeft\" duration={500}>\n                            <Text style={styles.errorMsg}>Password must be 6 characters long.</Text>\n                        </Animatable.View>\n                    }\n\n                    <Text style={[styles.text_footer, {\n                        marginTop: 35\n                    }]}>Confirm Password</Text>\n                    <View style={styles.action}>\n                        <Feather\n                            name=\"lock\"\n                            color=\"#05375a\"\n                            size={20}\n                        />\n                        <TextInput\n                            placeholder=\"Confirm Your Password\"\n                            secureTextEntry={data.confirm_secureTextEntry ? true : false}\n                            style={styles.textInput}\n                            autoCapitalize=\"none\"\n                            value={data.confirm_password}\n                            onChangeText={(val) => handleConfirmPasswordChange(val)}\n                        />\n                        <TouchableOpacity\n                            onPress={updateConfirmSecureTextEntry}\n                        >\n                            {data.confirm_secureTextEntry ?\n                                <Feather\n                                    name=\"eye-off\"\n                                    color=\"grey\"\n                                    size={20}\n                                />\n                                :\n                                <Feather\n                                    name=\"eye\"\n                                    color=\"grey\"\n                                    size={20}\n                                />\n                            }\n                        </TouchableOpacity>\n                    </View>\n                    {data.isValidConfirmPassword ? null :\n                        <Animatable.View animation=\"fadeInLeft\" duration={500}>\n                            <Text style={styles.errorMsg}>Password did not match.</Text>\n                        </Animatable.View>\n                    }\n                    <View style={styles.textPrivate}>\n                        <Text style={styles.color_textPrivate}>\n                            By signing up you agree to our\n                </Text>\n                        <Text style={[styles.color_textPrivate, { fontWeight: 'bold' }]}>{\" \"}Terms of service</Text>\n                        <Text style={styles.color_textPrivate}>{\" \"}and</Text>\n                        <Text style={[styles.color_textPrivate, { fontWeight: 'bold' }]}>{\" \"}Privacy policy</Text>\n                    </View>\n                    <View style={styles.button}>\n                        <TouchableOpacity\n                            style={styles.signIn}\n                            onPress={() => { signUp() }}\n                        >\n                            <LinearGradient\n                                colors={['#08d4c4', '#01ab9d']}\n                                style={styles.signIn}\n                            >\n                                <Text style={[styles.textSign, {\n                                    color: '#fff'\n                                }]}>Sign Up</Text>\n                            </LinearGradient>\n                        </TouchableOpacity>\n\n                        <TouchableOpacity\n                            onPress={() => navigation.goBack()}\n                            style={[styles.signIn, {\n                                borderColor: '#009387',\n                                borderWidth: 1,\n                                marginTop: 15\n                            }]}\n                        >\n                            <Text style={[styles.textSign, {\n                                color: '#009387'\n                            }]}>Sign In</Text>\n                        </TouchableOpacity>\n                    </View>\n                </ScrollView>\n            </Animatable.View>\n        </View>\n    );\n};\n\nexport default SignInScreen;\n\nconst styles = StyleSheet.create({\n    container: {\n        flex: 1,\n        backgroundColor: '#009387'\n    },\n    header: {\n        flex: 1,\n        justifyContent: 'flex-end',\n        paddingHorizontal: 20,\n        paddingBottom: 50\n    },\n    footer: {\n        flex: Platform.OS === 'ios' ? 3 : 5,\n        backgroundColor: '#fff',\n        borderTopLeftRadius: 30,\n        borderTopRightRadius: 30,\n        paddingHorizontal: 20,\n        paddingVertical: 30\n    },\n    text_header: {\n        color: '#fff',\n        fontWeight: 'bold',\n        fontSize: 30\n    },\n    text_footer: {\n        color: '#05375a',\n        fontSize: 18\n    },\n    action: {\n        flexDirection: 'row',\n        marginTop: 10,\n        borderBottomWidth: 1,\n        borderBottomColor: '#f2f2f2',\n        paddingBottom: 5\n    },\n    textInput: {\n        flex: 1,\n        marginTop: Platform.OS === 'ios' ? 0 : -12,\n        paddingLeft: 10,\n        color: '#05375a',\n    },\n    button: {\n        alignItems: 'center',\n        marginTop: 50\n    },\n    signIn: {\n        width: '100%',\n        height: 50,\n        justifyContent: 'center',\n        alignItems: 'center',\n        borderRadius: 10\n    },\n    errorMsg: {\n        color: '#FF0000',\n        fontSize: 14,\n    },\n    textSign: {\n        fontSize: 18,\n        fontWeight: 'bold'\n    },\n    textPrivate: {\n        flexDirection: 'row',\n        flexWrap: 'wrap',\n        marginTop: 20\n    },\n    color_textPrivate: {\n        color: 'grey'\n    }\n});\n"]},"metadata":{},"sourceType":"module"}